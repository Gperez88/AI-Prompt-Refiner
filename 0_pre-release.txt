2026-02-05T17:01:09.0463862Z Current runner version: '2.331.0'
2026-02-05T17:01:09.0497659Z ##[group]Runner Image Provisioner
2026-02-05T17:01:09.0499020Z Hosted Compute Agent
2026-02-05T17:01:09.0500007Z Version: 20260123.484
2026-02-05T17:01:09.0501005Z Commit: 6bd6555ca37d84114959e1c76d2c01448ff61c5d
2026-02-05T17:01:09.0502640Z Build Date: 2026-01-23T19:41:17Z
2026-02-05T17:01:09.0503768Z Worker ID: {f9faba45-d620-4b81-9e7a-e31c8b8795aa}
2026-02-05T17:01:09.0505306Z Azure Region: northcentralus
2026-02-05T17:01:09.0506384Z ##[endgroup]
2026-02-05T17:01:09.0508755Z ##[group]Operating System
2026-02-05T17:01:09.0509696Z Ubuntu
2026-02-05T17:01:09.0510587Z 24.04.3
2026-02-05T17:01:09.0511407Z LTS
2026-02-05T17:01:09.0512511Z ##[endgroup]
2026-02-05T17:01:09.0513449Z ##[group]Runner Image
2026-02-05T17:01:09.0514399Z Image: ubuntu-24.04
2026-02-05T17:01:09.0515346Z Version: 20260126.10.1
2026-02-05T17:01:09.0517549Z Included Software: https://github.com/actions/runner-images/blob/ubuntu24/20260126.10/images/ubuntu/Ubuntu2404-Readme.md
2026-02-05T17:01:09.0520259Z Image Release: https://github.com/actions/runner-images/releases/tag/ubuntu24%2F20260126.10
2026-02-05T17:01:09.0522136Z ##[endgroup]
2026-02-05T17:01:09.0524107Z ##[group]GITHUB_TOKEN Permissions
2026-02-05T17:01:09.0527135Z Contents: read
2026-02-05T17:01:09.0528112Z Metadata: read
2026-02-05T17:01:09.0528948Z Packages: read
2026-02-05T17:01:09.0529761Z ##[endgroup]
2026-02-05T17:01:09.0532922Z Secret source: Actions
2026-02-05T17:01:09.0534372Z Prepare workflow directory
2026-02-05T17:01:09.0924603Z Prepare all required actions
2026-02-05T17:01:09.0981078Z Getting action download info
2026-02-05T17:01:09.4787556Z Download action repository 'actions/checkout@v4' (SHA:34e114876b0b11c390a56381ad16ebd13914f8d5)
2026-02-05T17:01:09.5822205Z Download action repository 'actions/setup-node@v4' (SHA:49933ea5288caeca8642d1e84afbd3f7d6820020)
2026-02-05T17:01:09.6734727Z Download action repository 'actions/upload-artifact@v4' (SHA:ea165f8d65b6e75b540449e92b4886f43607fa02)
2026-02-05T17:01:09.8955057Z Complete job name: pre-release
2026-02-05T17:01:09.9664225Z ##[group]Run actions/checkout@v4
2026-02-05T17:01:09.9665092Z with:
2026-02-05T17:01:09.9665543Z   repository: Gperez88/AI-Prompt-Refiner
2026-02-05T17:01:09.9666280Z   token: ***
2026-02-05T17:01:09.9666686Z   ssh-strict: true
2026-02-05T17:01:09.9667096Z   ssh-user: git
2026-02-05T17:01:09.9667518Z   persist-credentials: true
2026-02-05T17:01:09.9667982Z   clean: true
2026-02-05T17:01:09.9668410Z   sparse-checkout-cone-mode: true
2026-02-05T17:01:09.9668912Z   fetch-depth: 1
2026-02-05T17:01:09.9669314Z   fetch-tags: false
2026-02-05T17:01:09.9669743Z   show-progress: true
2026-02-05T17:01:09.9670166Z   lfs: false
2026-02-05T17:01:09.9670550Z   submodules: false
2026-02-05T17:01:09.9670971Z   set-safe-directory: true
2026-02-05T17:01:09.9671836Z ##[endgroup]
2026-02-05T17:01:10.0790595Z Syncing repository: Gperez88/AI-Prompt-Refiner
2026-02-05T17:01:10.0792945Z ##[group]Getting Git version info
2026-02-05T17:01:10.0793896Z Working directory is '/home/runner/work/AI-Prompt-Refiner/AI-Prompt-Refiner'
2026-02-05T17:01:10.0795249Z [command]/usr/bin/git version
2026-02-05T17:01:10.0877882Z git version 2.52.0
2026-02-05T17:01:10.0905079Z ##[endgroup]
2026-02-05T17:01:10.0929744Z Temporarily overriding HOME='/home/runner/work/_temp/222285f1-ac5d-4f49-95c2-a2bf76b08dbb' before making global git config changes
2026-02-05T17:01:10.0932629Z Adding repository directory to the temporary git global config as a safe directory
2026-02-05T17:01:10.0936566Z [command]/usr/bin/git config --global --add safe.directory /home/runner/work/AI-Prompt-Refiner/AI-Prompt-Refiner
2026-02-05T17:01:10.0979516Z Deleting the contents of '/home/runner/work/AI-Prompt-Refiner/AI-Prompt-Refiner'
2026-02-05T17:01:10.0984157Z ##[group]Initializing the repository
2026-02-05T17:01:10.0990432Z [command]/usr/bin/git init /home/runner/work/AI-Prompt-Refiner/AI-Prompt-Refiner
2026-02-05T17:01:10.1079158Z hint: Using 'master' as the name for the initial branch. This default branch name
2026-02-05T17:01:10.1081270Z hint: will change to "main" in Git 3.0. To configure the initial branch name
2026-02-05T17:01:10.1083049Z hint: to use in all of your new repositories, which will suppress this warning,
2026-02-05T17:01:10.1084859Z hint: call:
2026-02-05T17:01:10.1085844Z hint:
2026-02-05T17:01:10.1087152Z hint: 	git config --global init.defaultBranch <name>
2026-02-05T17:01:10.1089207Z hint:
2026-02-05T17:01:10.1090622Z hint: Names commonly chosen instead of 'master' are 'main', 'trunk' and
2026-02-05T17:01:10.1092998Z hint: 'development'. The just-created branch can be renamed via this command:
2026-02-05T17:01:10.1094526Z hint:
2026-02-05T17:01:10.1095921Z hint: 	git branch -m <name>
2026-02-05T17:01:10.1097082Z hint:
2026-02-05T17:01:10.1098608Z hint: Disable this message with "git config set advice.defaultBranchName false"
2026-02-05T17:01:10.1101139Z Initialized empty Git repository in /home/runner/work/AI-Prompt-Refiner/AI-Prompt-Refiner/.git/
2026-02-05T17:01:10.1106011Z [command]/usr/bin/git remote add origin https://github.com/Gperez88/AI-Prompt-Refiner
2026-02-05T17:01:10.1142218Z ##[endgroup]
2026-02-05T17:01:10.1143073Z ##[group]Disabling automatic garbage collection
2026-02-05T17:01:10.1146101Z [command]/usr/bin/git config --local gc.auto 0
2026-02-05T17:01:10.1175128Z ##[endgroup]
2026-02-05T17:01:10.1175819Z ##[group]Setting up auth
2026-02-05T17:01:10.1181382Z [command]/usr/bin/git config --local --name-only --get-regexp core\.sshCommand
2026-02-05T17:01:10.1216932Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :"
2026-02-05T17:01:10.1546194Z [command]/usr/bin/git config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
2026-02-05T17:01:10.1577038Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :"
2026-02-05T17:01:10.1795996Z [command]/usr/bin/git config --local --name-only --get-regexp ^includeIf\.gitdir:
2026-02-05T17:01:10.1827876Z [command]/usr/bin/git submodule foreach --recursive git config --local --show-origin --name-only --get-regexp remote.origin.url
2026-02-05T17:01:10.2050960Z [command]/usr/bin/git config --local http.https://github.com/.extraheader AUTHORIZATION: basic ***
2026-02-05T17:01:10.2085909Z ##[endgroup]
2026-02-05T17:01:10.2087381Z ##[group]Fetching the repository
2026-02-05T17:01:10.2096001Z [command]/usr/bin/git -c protocol.version=2 fetch --no-tags --prune --no-recurse-submodules --depth=1 origin +12f3164fd038df8a5e45297de7ea9a0796edc788:refs/remotes/origin/develop
2026-02-05T17:01:10.7995911Z From https://github.com/Gperez88/AI-Prompt-Refiner
2026-02-05T17:01:10.7998806Z  * [new ref]         12f3164fd038df8a5e45297de7ea9a0796edc788 -> origin/develop
2026-02-05T17:01:10.8028345Z ##[endgroup]
2026-02-05T17:01:10.8029590Z ##[group]Determining the checkout info
2026-02-05T17:01:10.8031044Z ##[endgroup]
2026-02-05T17:01:10.8035481Z [command]/usr/bin/git sparse-checkout disable
2026-02-05T17:01:10.8076228Z [command]/usr/bin/git config --local --unset-all extensions.worktreeConfig
2026-02-05T17:01:10.8102743Z ##[group]Checking out the ref
2026-02-05T17:01:10.8106844Z [command]/usr/bin/git checkout --progress --force -B develop refs/remotes/origin/develop
2026-02-05T17:01:10.8228463Z Switched to a new branch 'develop'
2026-02-05T17:01:10.8231871Z branch 'develop' set up to track 'origin/develop'.
2026-02-05T17:01:10.8239500Z ##[endgroup]
2026-02-05T17:01:10.8272769Z [command]/usr/bin/git log -1 --format=%H
2026-02-05T17:01:10.8294958Z 12f3164fd038df8a5e45297de7ea9a0796edc788
2026-02-05T17:01:10.8623495Z ##[group]Run actions/setup-node@v4
2026-02-05T17:01:10.8624624Z with:
2026-02-05T17:01:10.8625415Z   node-version: 20.x
2026-02-05T17:01:10.8626320Z   cache: npm
2026-02-05T17:01:10.8627141Z   always-auth: false
2026-02-05T17:01:10.8628040Z   check-latest: false
2026-02-05T17:01:10.8629526Z   token: ***
2026-02-05T17:01:10.8630345Z ##[endgroup]
2026-02-05T17:01:11.0460061Z Found in cache @ /opt/hostedtoolcache/node/20.20.0/x64
2026-02-05T17:01:11.0467310Z ##[group]Environment details
2026-02-05T17:01:11.3915844Z node: v20.20.0
2026-02-05T17:01:11.3917169Z npm: 10.8.2
2026-02-05T17:01:11.3918285Z yarn: 1.22.22
2026-02-05T17:01:11.3919930Z ##[endgroup]
2026-02-05T17:01:11.3938987Z [command]/opt/hostedtoolcache/node/20.20.0/x64/bin/npm config get cache
2026-02-05T17:01:11.5258893Z /home/runner/.npm
2026-02-05T17:01:11.7179193Z npm cache is not found
2026-02-05T17:01:11.7322891Z ##[group]Run npm ci
2026-02-05T17:01:11.7323831Z [36;1mnpm ci[0m
2026-02-05T17:01:11.7369958Z shell: /usr/bin/bash -e {0}
2026-02-05T17:01:11.7370929Z ##[endgroup]
2026-02-05T17:01:13.4362867Z npm warn deprecated rimraf@3.0.2: Rimraf versions prior to v4 are no longer supported
2026-02-05T17:01:13.8677177Z npm warn deprecated inflight@1.0.6: This module is not supported, and leaks memory. Do not use it. Check out lru-cache if you want a good and tested way to coalesce async requests by a key value, which is much more comprehensive and powerful.
2026-02-05T17:01:14.0349401Z npm warn deprecated glob@8.1.0: Glob versions prior to v9 are no longer supported
2026-02-05T17:01:14.2202108Z npm warn deprecated node-domexception@1.0.0: Use your platform's native DOMException instead
2026-02-05T17:01:14.4992933Z npm warn deprecated @humanwhocodes/config-array@0.13.0: Use @eslint/config-array instead
2026-02-05T17:01:14.5219613Z npm warn deprecated @humanwhocodes/object-schema@2.0.3: Use @eslint/object-schema instead
2026-02-05T17:01:14.5569129Z npm warn deprecated glob@7.2.3: Glob versions prior to v9 are no longer supported
2026-02-05T17:01:15.2155923Z npm warn deprecated eslint@8.57.1: This version is no longer supported. Please see https://eslint.org/version-support for other options.
2026-02-05T17:01:15.6347211Z 
2026-02-05T17:01:15.6355290Z added 299 packages, and audited 300 packages in 4s
2026-02-05T17:01:15.6361999Z 
2026-02-05T17:01:15.6362456Z 80 packages are looking for funding
2026-02-05T17:01:15.6363155Z   run `npm fund` for details
2026-02-05T17:01:15.6363482Z 
2026-02-05T17:01:15.6363742Z found 0 vulnerabilities
2026-02-05T17:01:15.6657622Z ##[group]Run npm test
2026-02-05T17:01:15.6657883Z [36;1mnpm test[0m
2026-02-05T17:01:15.6690162Z shell: /usr/bin/bash -e {0}
2026-02-05T17:01:15.6690435Z ##[endgroup]
2026-02-05T17:01:15.7895541Z 
2026-02-05T17:01:15.7897607Z > ai-prompt-refiner@1.3.0 test
2026-02-05T17:01:15.7898160Z > vitest run
2026-02-05T17:01:15.7898386Z 
2026-02-05T17:01:16.1247792Z 
2026-02-05T17:01:16.1250797Z [1m[46m RUN [49m[22m [36mv4.0.18 [39m[90m/home/runner/work/AI-Prompt-Refiner/AI-Prompt-Refiner[39m
2026-02-05T17:01:16.1251942Z 
2026-02-05T17:01:16.5415108Z [90mstdout[2m | src/__tests__/ConfigurationManager.test.ts[2m > [22m[2mConfigurationManager[2m > [22m[2mgetModelId[2m > [22m[2mshould return default model when not configured
2026-02-05T17:01:16.5417474Z [22m[39m[2026-02-05T17:01:16.537Z] [INFO] Migrating legacy model ID: gpt-4o-mini -> github-gpt-4o-mini
2026-02-05T17:01:16.5418200Z 
2026-02-05T17:01:16.5445615Z [90mstdout[2m | src/__tests__/ConfigurationManager.test.ts[2m > [22m[2mConfigurationManager[2m > [22m[2mgetModelId[2m > [22m[2mshould return default model when not configured
2026-02-05T17:01:16.5447814Z [22m[39m[2026-02-05T17:01:16.540Z] [INFO] Model set to: github-gpt-4o-mini (API: gpt-4o-mini)
2026-02-05T17:01:16.5448576Z 
2026-02-05T17:01:16.5450153Z [90mstdout[2m | src/__tests__/ConfigurationManager.test.ts[2m > [22m[2mConfigurationManager[2m > [22m[2msetModelId[2m > [22m[2mshould update model configuration
2026-02-05T17:01:16.5452387Z [22m[39m[2026-02-05T17:01:16.543Z] [INFO] Model set to: gemini-pro (API: gemini-pro)
2026-02-05T17:01:16.5453026Z 
2026-02-05T17:01:16.5579999Z  [32m✓[39m src/__tests__/ConfigurationManager.test.ts [2m([22m[2m15 tests[22m[2m)[22m[32m 23[2mms[22m[39m
2026-02-05T17:01:16.5620072Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mInitialization[2m > [22m[2mshould load existing storage when available
2026-02-05T17:01:16.5622345Z [22m[39m[2026-02-05T17:01:16.556Z] [INFO] SessionManager initialized {
2026-02-05T17:01:16.5623063Z   "sessionCount": 1,
2026-02-05T17:01:16.5623555Z   "activeSession": "session-1"
2026-02-05T17:01:16.5624055Z }
2026-02-05T17:01:16.5624232Z 
2026-02-05T17:01:16.5625886Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mInitialization[2m > [22m[2mshould load existing storage when available
2026-02-05T17:01:16.5627843Z [22m[39m[2026-02-05T17:01:16.558Z] [INFO] Migrated session roles to default {
2026-02-05T17:01:16.5628587Z   "count": 1
2026-02-05T17:01:16.5629016Z }
2026-02-05T17:01:16.5629226Z 
2026-02-05T17:01:16.5630899Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mSession Creation[2m > [22m[2mshould create a new session with custom name
2026-02-05T17:01:16.5637908Z [22m[39m[2026-02-05T17:01:16.559Z] [INFO] Created new session {
2026-02-05T17:01:16.5638686Z   "sessionId": "1770310876559-4e4874e37589aeb3",
2026-02-05T17:01:16.5639240Z   "name": "My Test Session"
2026-02-05T17:01:16.5639643Z }
2026-02-05T17:01:16.5639829Z 
2026-02-05T17:01:16.5648160Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mSession Creation[2m > [22m[2mshould create a session with auto-generated name when none provided
2026-02-05T17:01:16.5650067Z [22m[39m[2026-02-05T17:01:16.560Z] [INFO] Created new session {
2026-02-05T17:01:16.5650728Z   "sessionId": "1770310876560-fbe122990702a38f",
2026-02-05T17:01:16.5651192Z   "name": "Session 1"
2026-02-05T17:01:16.5651519Z }
2026-02-05T17:01:16.5651920Z 
2026-02-05T17:01:16.5653426Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mSession Creation[2m > [22m[2mshould set new session as active
2026-02-05T17:01:16.5654973Z [22m[39m[2026-02-05T17:01:16.561Z] [INFO] Created new session {
2026-02-05T17:01:16.5655915Z   "sessionId": "1770310876561-90a584f42db97084",
2026-02-05T17:01:16.5656407Z   "name": "Active Test"
2026-02-05T17:01:16.5656735Z }
2026-02-05T17:01:16.5656899Z 
2026-02-05T17:01:16.5658505Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mSession Creation[2m > [22m[2mshould archive oldest session when maxSessions reached
2026-02-05T17:01:16.5660174Z [22m[39m[2026-02-05T17:01:16.562Z] [INFO] Created new session {
2026-02-05T17:01:16.5660802Z   "sessionId": "1770310876562-0bbdc36220d1fb74",
2026-02-05T17:01:16.5661260Z   "name": "Session 0"
2026-02-05T17:01:16.5661570Z }
2026-02-05T17:01:16.5661883Z 
2026-02-05T17:01:16.5663477Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mSession Creation[2m > [22m[2mshould archive oldest session when maxSessions reached
2026-02-05T17:01:16.5665120Z [22m[39m[2026-02-05T17:01:16.562Z] [INFO] Created new session {
2026-02-05T17:01:16.5665755Z   "sessionId": "1770310876562-6938b785f2368315",
2026-02-05T17:01:16.5666200Z   "name": "Session 1"
2026-02-05T17:01:16.5666519Z }
2026-02-05T17:01:16.5666664Z 
2026-02-05T17:01:16.5668219Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mSession Creation[2m > [22m[2mshould archive oldest session when maxSessions reached
2026-02-05T17:01:16.5669814Z [22m[39m[2026-02-05T17:01:16.562Z] [INFO] Created new session {
2026-02-05T17:01:16.5670429Z   "sessionId": "1770310876562-57fca0c42079c356",
2026-02-05T17:01:16.5670875Z   "name": "Session 2"
2026-02-05T17:01:16.5671192Z }
2026-02-05T17:01:16.5671335Z 
2026-02-05T17:01:16.5674399Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mSession Creation[2m > [22m[2mshould archive oldest session when maxSessions reached
2026-02-05T17:01:16.5676282Z [22m[39m[2026-02-05T17:01:16.562Z] [INFO] Created new session {
2026-02-05T17:01:16.5676920Z   "sessionId": "1770310876562-821da1b586d475db",
2026-02-05T17:01:16.5677380Z   "name": "Session 3"
2026-02-05T17:01:16.5677692Z }
2026-02-05T17:01:16.5677847Z 
2026-02-05T17:01:16.5679428Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mSession Creation[2m > [22m[2mshould archive oldest session when maxSessions reached
2026-02-05T17:01:16.5681053Z [22m[39m[2026-02-05T17:01:16.563Z] [INFO] Created new session {
2026-02-05T17:01:16.5681825Z   "sessionId": "1770310876563-536674e8de08375a",
2026-02-05T17:01:16.5682295Z   "name": "Session 4"
2026-02-05T17:01:16.5682625Z }
2026-02-05T17:01:16.5682770Z 
2026-02-05T17:01:16.5684338Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mSession Creation[2m > [22m[2mshould archive oldest session when maxSessions reached
2026-02-05T17:01:16.5687587Z [22m[39m[2026-02-05T17:01:16.563Z] [INFO] Created new session {
2026-02-05T17:01:16.5689210Z   "sessionId": "1770310876563-f9d83c6a7750f613",
2026-02-05T17:01:16.5689659Z   "name": "Session 5"
2026-02-05T17:01:16.5689976Z }
2026-02-05T17:01:16.5690119Z 
2026-02-05T17:01:16.5691843Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mSession Creation[2m > [22m[2mshould archive oldest session when maxSessions reached
2026-02-05T17:01:16.5693481Z [22m[39m[2026-02-05T17:01:16.564Z] [INFO] Created new session {
2026-02-05T17:01:16.5694105Z   "sessionId": "1770310876563-1c25fbc470995594",
2026-02-05T17:01:16.5694561Z   "name": "Session 6"
2026-02-05T17:01:16.5694945Z }
2026-02-05T17:01:16.5695126Z 
2026-02-05T17:01:16.5696716Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mSession Creation[2m > [22m[2mshould archive oldest session when maxSessions reached
2026-02-05T17:01:16.5698361Z [22m[39m[2026-02-05T17:01:16.564Z] [INFO] Created new session {
2026-02-05T17:01:16.5699169Z   "sessionId": "1770310876564-05747591599e1293",
2026-02-05T17:01:16.5699634Z   "name": "Session 7"
2026-02-05T17:01:16.5699955Z }
2026-02-05T17:01:16.5700102Z 
2026-02-05T17:01:16.5701856Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mSession Creation[2m > [22m[2mshould archive oldest session when maxSessions reached
2026-02-05T17:01:16.5703502Z [22m[39m[2026-02-05T17:01:16.567Z] [INFO] Created new session {
2026-02-05T17:01:16.5704129Z   "sessionId": "1770310876564-9cdc9d04bdb0635e",
2026-02-05T17:01:16.5704582Z   "name": "Session 8"
2026-02-05T17:01:16.5704900Z }
2026-02-05T17:01:16.5705047Z 
2026-02-05T17:01:16.5706622Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mSession Creation[2m > [22m[2mshould archive oldest session when maxSessions reached
2026-02-05T17:01:16.5708247Z [22m[39m[2026-02-05T17:01:16.567Z] [INFO] Created new session {
2026-02-05T17:01:16.5708872Z   "sessionId": "1770310876567-82c0b2adf23bf9e2",
2026-02-05T17:01:16.5709343Z   "name": "Session 9"
2026-02-05T17:01:16.5709665Z }
2026-02-05T17:01:16.5711131Z 
2026-02-05T17:01:16.5716307Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mSession Creation[2m > [22m[2mshould archive oldest session when maxSessions reached
2026-02-05T17:01:16.5720156Z [22m[39m[2026-02-05T17:01:16.567Z] [INFO] Created new session {
2026-02-05T17:01:16.5722913Z   "sessionId": "1770310876567-287a2c9714a95182",
2026-02-05T17:01:16.5724919Z   "name": "Session 10"
2026-02-05T17:01:16.5726969Z }
2026-02-05T17:01:16.5727128Z 
2026-02-05T17:01:16.5729885Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mSession Creation[2m > [22m[2mshould archive oldest session when maxSessions reached
2026-02-05T17:01:16.5735651Z [22m[39m[2026-02-05T17:01:16.567Z] [INFO] Created new session {
2026-02-05T17:01:16.5737467Z   "sessionId": "1770310876567-4d3701a4db1a896b",
2026-02-05T17:01:16.5740992Z   "name": "Session 11"
2026-02-05T17:01:16.5741606Z }
2026-02-05T17:01:16.5743037Z 
2026-02-05T17:01:16.5745759Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mSession Creation[2m > [22m[2mshould archive oldest session when maxSessions reached
2026-02-05T17:01:16.5747639Z [22m[39m[2026-02-05T17:01:16.568Z] [INFO] Created new session {
2026-02-05T17:01:16.5750903Z   "sessionId": "1770310876568-af19c9369ca616af",
2026-02-05T17:01:16.5751383Z   "name": "Session 12"
2026-02-05T17:01:16.5751874Z }
2026-02-05T17:01:16.5752030Z 
2026-02-05T17:01:16.5753639Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mSession Creation[2m > [22m[2mshould archive oldest session when maxSessions reached
2026-02-05T17:01:16.5766029Z [22m[39m[2026-02-05T17:01:16.568Z] [INFO] Created new session {
2026-02-05T17:01:16.5766699Z   "sessionId": "1770310876568-68318cd7fa1be401",
2026-02-05T17:01:16.5770755Z   "name": "Session 13"
2026-02-05T17:01:16.5771110Z }
2026-02-05T17:01:16.5771261Z 
2026-02-05T17:01:16.5773062Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mSession Creation[2m > [22m[2mshould archive oldest session when maxSessions reached
2026-02-05T17:01:16.5774737Z [22m[39m[2026-02-05T17:01:16.568Z] [INFO] Created new session {
2026-02-05T17:01:16.5776633Z   "sessionId": "1770310876568-85b9666a298073ff",
2026-02-05T17:01:16.5777107Z   "name": "Session 14"
2026-02-05T17:01:16.5777429Z }
2026-02-05T17:01:16.5777586Z 
2026-02-05T17:01:16.5779211Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mSession Creation[2m > [22m[2mshould archive oldest session when maxSessions reached
2026-02-05T17:01:16.5780867Z [22m[39m[2026-02-05T17:01:16.568Z] [INFO] Created new session {
2026-02-05T17:01:16.5781505Z   "sessionId": "1770310876568-395b2e7725a3053d",
2026-02-05T17:01:16.5782320Z   "name": "Session 15"
2026-02-05T17:01:16.5783931Z }
2026-02-05T17:01:16.5784096Z 
2026-02-05T17:01:16.5785720Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mSession Creation[2m > [22m[2mshould archive oldest session when maxSessions reached
2026-02-05T17:01:16.5789075Z [22m[39m[2026-02-05T17:01:16.568Z] [INFO] Created new session {
2026-02-05T17:01:16.5789747Z   "sessionId": "1770310876568-1698d0f33515fd9f",
2026-02-05T17:01:16.5790226Z   "name": "Session 16"
2026-02-05T17:01:16.5790558Z }
2026-02-05T17:01:16.5790706Z 
2026-02-05T17:01:16.5792468Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mSession Creation[2m > [22m[2mshould archive oldest session when maxSessions reached
2026-02-05T17:01:16.5795440Z [22m[39m[2026-02-05T17:01:16.569Z] [INFO] Created new session {
2026-02-05T17:01:16.5796086Z   "sessionId": "1770310876569-cc12e7394075f7d8",
2026-02-05T17:01:16.5796557Z   "name": "Session 17"
2026-02-05T17:01:16.5796879Z }
2026-02-05T17:01:16.5797034Z 
2026-02-05T17:01:16.5798627Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mSession Creation[2m > [22m[2mshould archive oldest session when maxSessions reached
2026-02-05T17:01:16.5800264Z [22m[39m[2026-02-05T17:01:16.569Z] [INFO] Created new session {
2026-02-05T17:01:16.5804251Z   "sessionId": "1770310876569-75942166e669d4c3",
2026-02-05T17:01:16.5804754Z   "name": "Session 18"
2026-02-05T17:01:16.5805095Z }
2026-02-05T17:01:16.5805252Z 
2026-02-05T17:01:16.5806873Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mSession Creation[2m > [22m[2mshould archive oldest session when maxSessions reached
2026-02-05T17:01:16.5808738Z [22m[39m[2026-02-05T17:01:16.569Z] [INFO] Created new session {
2026-02-05T17:01:16.5809373Z   "sessionId": "1770310876569-75e77ca68a572060",
2026-02-05T17:01:16.5809839Z   "name": "Session 19"
2026-02-05T17:01:16.5810167Z }
2026-02-05T17:01:16.5810314Z 
2026-02-05T17:01:16.5812076Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mSession Creation[2m > [22m[2mshould archive oldest session when maxSessions reached
2026-02-05T17:01:16.5813711Z [22m[39m[2026-02-05T17:01:16.569Z] [INFO] Created new session {
2026-02-05T17:01:16.5814344Z   "sessionId": "1770310876569-0bfe49c212c8c176",
2026-02-05T17:01:16.5814807Z   "name": "Session 20"
2026-02-05T17:01:16.5815146Z }
2026-02-05T17:01:16.5815293Z 
2026-02-05T17:01:16.5816878Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mSession Creation[2m > [22m[2mshould archive oldest session when maxSessions reached
2026-02-05T17:01:16.5818522Z [22m[39m[2026-02-05T17:01:16.569Z] [INFO] Created new session {
2026-02-05T17:01:16.5819138Z   "sessionId": "1770310876569-e4ed90483bb67bc7",
2026-02-05T17:01:16.5819607Z   "name": "Session 21"
2026-02-05T17:01:16.5819922Z }
2026-02-05T17:01:16.5820074Z 
2026-02-05T17:01:16.5821790Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mSession Creation[2m > [22m[2mshould archive oldest session when maxSessions reached
2026-02-05T17:01:16.5824455Z [22m[39m[2026-02-05T17:01:16.569Z] [INFO] Created new session {
2026-02-05T17:01:16.5825079Z   "sessionId": "1770310876569-9839f7fa163e94bb",
2026-02-05T17:01:16.5825602Z   "name": "Session 22"
2026-02-05T17:01:16.5825927Z }
2026-02-05T17:01:16.5826073Z 
2026-02-05T17:01:16.5827646Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mSession Creation[2m > [22m[2mshould archive oldest session when maxSessions reached
2026-02-05T17:01:16.5829280Z [22m[39m[2026-02-05T17:01:16.570Z] [INFO] Created new session {
2026-02-05T17:01:16.5829915Z   "sessionId": "1770310876570-9789f309dd10d38b",
2026-02-05T17:01:16.5830561Z   "name": "Session 23"
2026-02-05T17:01:16.5830920Z }
2026-02-05T17:01:16.5831070Z 
2026-02-05T17:01:16.5832830Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mSession Creation[2m > [22m[2mshould archive oldest session when maxSessions reached
2026-02-05T17:01:16.5834438Z [22m[39m[2026-02-05T17:01:16.570Z] [INFO] Created new session {
2026-02-05T17:01:16.5835064Z   "sessionId": "1770310876570-1f087d720b1652ad",
2026-02-05T17:01:16.5835529Z   "name": "Session 24"
2026-02-05T17:01:16.5835846Z }
2026-02-05T17:01:16.5835998Z 
2026-02-05T17:01:16.5837599Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mSession Creation[2m > [22m[2mshould archive oldest session when maxSessions reached
2026-02-05T17:01:16.5839264Z [22m[39m[2026-02-05T17:01:16.570Z] [INFO] Created new session {
2026-02-05T17:01:16.5839883Z   "sessionId": "1770310876570-c66d14eb1400f826",
2026-02-05T17:01:16.5840346Z   "name": "Session 25"
2026-02-05T17:01:16.5840659Z }
2026-02-05T17:01:16.5840811Z 
2026-02-05T17:01:16.5842674Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mSession Creation[2m > [22m[2mshould archive oldest session when maxSessions reached
2026-02-05T17:01:16.5844289Z [22m[39m[2026-02-05T17:01:16.570Z] [INFO] Created new session {
2026-02-05T17:01:16.5844913Z   "sessionId": "1770310876570-8688b8903dc1bcd9",
2026-02-05T17:01:16.5845366Z   "name": "Session 26"
2026-02-05T17:01:16.5845676Z }
2026-02-05T17:01:16.5845828Z 
2026-02-05T17:01:16.5847412Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mSession Creation[2m > [22m[2mshould archive oldest session when maxSessions reached
2026-02-05T17:01:16.5849270Z [22m[39m[2026-02-05T17:01:16.571Z] [INFO] Created new session {
2026-02-05T17:01:16.5849941Z   "sessionId": "1770310876571-68f0d3b59ca755ca",
2026-02-05T17:01:16.5850449Z   "name": "Session 27"
2026-02-05T17:01:16.5850789Z }
2026-02-05T17:01:16.5850942Z 
2026-02-05T17:01:16.5854939Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mSession Creation[2m > [22m[2mshould archive oldest session when maxSessions reached
2026-02-05T17:01:16.5856633Z [22m[39m[2026-02-05T17:01:16.571Z] [INFO] Created new session {
2026-02-05T17:01:16.5857280Z   "sessionId": "1770310876571-c4aaa2cb925c9270",
2026-02-05T17:01:16.5857740Z   "name": "Session 28"
2026-02-05T17:01:16.5858062Z }
2026-02-05T17:01:16.5858215Z 
2026-02-05T17:01:16.5859814Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mSession Creation[2m > [22m[2mshould archive oldest session when maxSessions reached
2026-02-05T17:01:16.5861444Z [22m[39m[2026-02-05T17:01:16.572Z] [INFO] Created new session {
2026-02-05T17:01:16.5862230Z   "sessionId": "1770310876572-0dcd0181cb5e4f08",
2026-02-05T17:01:16.5862696Z   "name": "Session 29"
2026-02-05T17:01:16.5863014Z }
2026-02-05T17:01:16.5863160Z 
2026-02-05T17:01:16.5864751Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mSession Creation[2m > [22m[2mshould archive oldest session when maxSessions reached
2026-02-05T17:01:16.5866363Z [22m[39m[2026-02-05T17:01:16.572Z] [INFO] Created new session {
2026-02-05T17:01:16.5866976Z   "sessionId": "1770310876572-b4e07a3540de721c",
2026-02-05T17:01:16.5867432Z   "name": "Session 30"
2026-02-05T17:01:16.5867743Z }
2026-02-05T17:01:16.5867893Z 
2026-02-05T17:01:16.5869469Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mSession Creation[2m > [22m[2mshould archive oldest session when maxSessions reached
2026-02-05T17:01:16.5871110Z [22m[39m[2026-02-05T17:01:16.572Z] [INFO] Created new session {
2026-02-05T17:01:16.5871846Z   "sessionId": "1770310876572-83aabff060c6e2db",
2026-02-05T17:01:16.5875959Z   "name": "Session 31"
2026-02-05T17:01:16.5876332Z }
2026-02-05T17:01:16.5876481Z 
2026-02-05T17:01:16.5878081Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mSession Creation[2m > [22m[2mshould archive oldest session when maxSessions reached
2026-02-05T17:01:16.5879705Z [22m[39m[2026-02-05T17:01:16.572Z] [INFO] Created new session {
2026-02-05T17:01:16.5880356Z   "sessionId": "1770310876572-9134b40f65e2b8de",
2026-02-05T17:01:16.5880817Z   "name": "Session 32"
2026-02-05T17:01:16.5882337Z }
2026-02-05T17:01:16.5882498Z 
2026-02-05T17:01:16.5884103Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mSession Creation[2m > [22m[2mshould archive oldest session when maxSessions reached
2026-02-05T17:01:16.5885787Z [22m[39m[2026-02-05T17:01:16.572Z] [INFO] Created new session {
2026-02-05T17:01:16.5886451Z   "sessionId": "1770310876572-50effb515e45dbbc",
2026-02-05T17:01:16.5886939Z   "name": "Session 33"
2026-02-05T17:01:16.5887266Z }
2026-02-05T17:01:16.5887413Z 
2026-02-05T17:01:16.5889003Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mSession Creation[2m > [22m[2mshould archive oldest session when maxSessions reached
2026-02-05T17:01:16.5891638Z [22m[39m[2026-02-05T17:01:16.572Z] [INFO] Created new session {
2026-02-05T17:01:16.5892440Z   "sessionId": "1770310876572-b3fddf0885a5e042",
2026-02-05T17:01:16.5892900Z   "name": "Session 34"
2026-02-05T17:01:16.5893227Z }
2026-02-05T17:01:16.5893375Z 
2026-02-05T17:01:16.5894979Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mSession Creation[2m > [22m[2mshould archive oldest session when maxSessions reached
2026-02-05T17:01:16.5896815Z [22m[39m[2026-02-05T17:01:16.573Z] [INFO] Created new session {
2026-02-05T17:01:16.5897445Z   "sessionId": "1770310876573-050e7aa85f68c5ad",
2026-02-05T17:01:16.5897915Z   "name": "Session 35"
2026-02-05T17:01:16.5898233Z }
2026-02-05T17:01:16.5898386Z 
2026-02-05T17:01:16.5899965Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mSession Creation[2m > [22m[2mshould archive oldest session when maxSessions reached
2026-02-05T17:01:16.5901592Z [22m[39m[2026-02-05T17:01:16.573Z] [INFO] Created new session {
2026-02-05T17:01:16.5902353Z   "sessionId": "1770310876573-b6798307804fac9e",
2026-02-05T17:01:16.5902810Z   "name": "Session 36"
2026-02-05T17:01:16.5903145Z }
2026-02-05T17:01:16.5903294Z 
2026-02-05T17:01:16.5905908Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mSession Creation[2m > [22m[2mshould archive oldest session when maxSessions reached
2026-02-05T17:01:16.5907545Z [22m[39m[2026-02-05T17:01:16.573Z] [INFO] Created new session {
2026-02-05T17:01:16.5908171Z   "sessionId": "1770310876573-da5f9083b5c7e537",
2026-02-05T17:01:16.5908631Z   "name": "Session 37"
2026-02-05T17:01:16.5908953Z }
2026-02-05T17:01:16.5909097Z 
2026-02-05T17:01:16.5910684Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mSession Creation[2m > [22m[2mshould archive oldest session when maxSessions reached
2026-02-05T17:01:16.5912544Z [22m[39m[2026-02-05T17:01:16.573Z] [INFO] Created new session {
2026-02-05T17:01:16.5913171Z   "sessionId": "1770310876573-236046338bd112a4",
2026-02-05T17:01:16.5913857Z   "name": "Session 38"
2026-02-05T17:01:16.5914183Z }
2026-02-05T17:01:16.5914327Z 
2026-02-05T17:01:16.5921222Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mSession Creation[2m > [22m[2mshould archive oldest session when maxSessions reached
2026-02-05T17:01:16.5923109Z [22m[39m[2026-02-05T17:01:16.573Z] [INFO] Created new session {
2026-02-05T17:01:16.5923762Z   "sessionId": "1770310876573-9dd99e74ec783d32",
2026-02-05T17:01:16.5924426Z   "name": "Session 39"
2026-02-05T17:01:16.5924760Z }
2026-02-05T17:01:16.5924917Z 
2026-02-05T17:01:16.5926591Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mSession Creation[2m > [22m[2mshould archive oldest session when maxSessions reached
2026-02-05T17:01:16.5928242Z [22m[39m[2026-02-05T17:01:16.573Z] [INFO] Created new session {
2026-02-05T17:01:16.5928871Z   "sessionId": "1770310876573-c876abeb345a6c26",
2026-02-05T17:01:16.5929353Z   "name": "Session 40"
2026-02-05T17:01:16.5929683Z }
2026-02-05T17:01:16.5929832Z 
2026-02-05T17:01:16.5931414Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mSession Creation[2m > [22m[2mshould archive oldest session when maxSessions reached
2026-02-05T17:01:16.5933309Z [22m[39m[2026-02-05T17:01:16.574Z] [INFO] Created new session {
2026-02-05T17:01:16.5933935Z   "sessionId": "1770310876573-624c83389e2880d5",
2026-02-05T17:01:16.5934393Z   "name": "Session 41"
2026-02-05T17:01:16.5934719Z }
2026-02-05T17:01:16.5934867Z 
2026-02-05T17:01:16.5936457Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mSession Creation[2m > [22m[2mshould archive oldest session when maxSessions reached
2026-02-05T17:01:16.5938065Z [22m[39m[2026-02-05T17:01:16.574Z] [INFO] Created new session {
2026-02-05T17:01:16.5938695Z   "sessionId": "1770310876574-bb40e2c73d8635d3",
2026-02-05T17:01:16.5939179Z   "name": "Session 42"
2026-02-05T17:01:16.5939516Z }
2026-02-05T17:01:16.5939671Z 
2026-02-05T17:01:16.5941257Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mSession Creation[2m > [22m[2mshould archive oldest session when maxSessions reached
2026-02-05T17:01:16.5947491Z [22m[39m[2026-02-05T17:01:16.574Z] [INFO] Created new session {
2026-02-05T17:01:16.5948143Z   "sessionId": "1770310876574-6cd1d1ebe528e985",
2026-02-05T17:01:16.5948621Z   "name": "Session 43"
2026-02-05T17:01:16.5948944Z }
2026-02-05T17:01:16.5949099Z 
2026-02-05T17:01:16.5950695Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mSession Creation[2m > [22m[2mshould archive oldest session when maxSessions reached
2026-02-05T17:01:16.5952588Z [22m[39m[2026-02-05T17:01:16.574Z] [INFO] Created new session {
2026-02-05T17:01:16.5953214Z   "sessionId": "1770310876574-46241d1716da432b",
2026-02-05T17:01:16.5953670Z   "name": "Session 44"
2026-02-05T17:01:16.5953994Z }
2026-02-05T17:01:16.5954144Z 
2026-02-05T17:01:16.5956766Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mSession Creation[2m > [22m[2mshould archive oldest session when maxSessions reached
2026-02-05T17:01:16.5958405Z [22m[39m[2026-02-05T17:01:16.574Z] [INFO] Created new session {
2026-02-05T17:01:16.5959038Z   "sessionId": "1770310876574-8c5ea7840acde870",
2026-02-05T17:01:16.5959499Z   "name": "Session 45"
2026-02-05T17:01:16.5959832Z }
2026-02-05T17:01:16.5959977Z 
2026-02-05T17:01:16.5961557Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mSession Creation[2m > [22m[2mshould archive oldest session when maxSessions reached
2026-02-05T17:01:16.5963337Z [22m[39m[2026-02-05T17:01:16.574Z] [INFO] Created new session {
2026-02-05T17:01:16.5963963Z   "sessionId": "1770310876574-481b2d974dac8370",
2026-02-05T17:01:16.5964422Z   "name": "Session 46"
2026-02-05T17:01:16.5965645Z }
2026-02-05T17:01:16.5966685Z 
2026-02-05T17:01:16.5970890Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mSession Creation[2m > [22m[2mshould archive oldest session when maxSessions reached
2026-02-05T17:01:16.5972677Z [22m[39m[2026-02-05T17:01:16.574Z] [INFO] Created new session {
2026-02-05T17:01:16.5974416Z   "sessionId": "1770310876574-3c2c37bc5c6a7c77",
2026-02-05T17:01:16.5975065Z   "name": "Session 47"
2026-02-05T17:01:16.5975399Z }
2026-02-05T17:01:16.5975553Z 
2026-02-05T17:01:16.5977168Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mSession Creation[2m > [22m[2mshould archive oldest session when maxSessions reached
2026-02-05T17:01:16.5978797Z [22m[39m[2026-02-05T17:01:16.575Z] [INFO] Created new session {
2026-02-05T17:01:16.5979430Z   "sessionId": "1770310876575-f07a591fc05cf188",
2026-02-05T17:01:16.5979886Z   "name": "Session 48"
2026-02-05T17:01:16.5980205Z }
2026-02-05T17:01:16.5980350Z 
2026-02-05T17:01:16.5982056Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mSession Creation[2m > [22m[2mshould archive oldest session when maxSessions reached
2026-02-05T17:01:16.5983693Z [22m[39m[2026-02-05T17:01:16.575Z] [INFO] Created new session {
2026-02-05T17:01:16.5984318Z   "sessionId": "1770310876575-b92dfa5833861520",
2026-02-05T17:01:16.5984779Z   "name": "Session 49"
2026-02-05T17:01:16.5985103Z }
2026-02-05T17:01:16.5985248Z 
2026-02-05T17:01:16.5986818Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mSession Creation[2m > [22m[2mshould archive oldest session when maxSessions reached
2026-02-05T17:01:16.5988402Z [22m[39m[2026-02-05T17:01:16.576Z] [INFO] Session archived {
2026-02-05T17:01:16.5989011Z   "sessionId": "1770310876562-0bbdc36220d1fb74"
2026-02-05T17:01:16.5989448Z }
2026-02-05T17:01:16.5989596Z 
2026-02-05T17:01:16.5991167Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mSession Creation[2m > [22m[2mshould archive oldest session when maxSessions reached
2026-02-05T17:01:16.5992957Z [22m[39m[2026-02-05T17:01:16.576Z] [INFO] Created new session {
2026-02-05T17:01:16.5993961Z   "sessionId": "1770310876576-53f75f30c85795e7",
2026-02-05T17:01:16.5994549Z   "name": "Overflow Session"
2026-02-05T17:01:16.5994983Z }
2026-02-05T17:01:16.5995173Z 
2026-02-05T17:01:16.5996661Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mSession Management[2m > [22m[2mshould get a session by ID
2026-02-05T17:01:16.5998296Z [22m[39m[2026-02-05T17:01:16.577Z] [INFO] Created new session {
2026-02-05T17:01:16.5998993Z   "sessionId": "1770310876577-a6596f0289cba79c",
2026-02-05T17:01:16.5999530Z   "name": "Test Session"
2026-02-05T17:01:16.5999930Z }
2026-02-05T17:01:16.6000084Z 
2026-02-05T17:01:16.6001825Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mSession Management[2m > [22m[2mshould return null for non-existent session
2026-02-05T17:01:16.6004677Z [22m[39m[2026-02-05T17:01:16.578Z] [INFO] Created new session {
2026-02-05T17:01:16.6005347Z   "sessionId": "1770310876578-7ada0d2a24e56826",
2026-02-05T17:01:16.6005817Z   "name": "Test Session"
2026-02-05T17:01:16.6006161Z }
2026-02-05T17:01:16.6006313Z 
2026-02-05T17:01:16.6007671Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mSession Management[2m > [22m[2mshould rename a session
2026-02-05T17:01:16.6009138Z [22m[39m[2026-02-05T17:01:16.579Z] [INFO] Created new session {
2026-02-05T17:01:16.6009768Z   "sessionId": "1770310876579-b71e8c0757261b55",
2026-02-05T17:01:16.6010227Z   "name": "Test Session"
2026-02-05T17:01:16.6010559Z }
2026-02-05T17:01:16.6010710Z 
2026-02-05T17:01:16.6012389Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mSession Management[2m > [22m[2mshould throw error when renaming with empty name
2026-02-05T17:01:16.6014000Z [22m[39m[2026-02-05T17:01:16.579Z] [INFO] Created new session {
2026-02-05T17:01:16.6014630Z   "sessionId": "1770310876579-f2d3eed625884783",
2026-02-05T17:01:16.6015097Z   "name": "Test Session"
2026-02-05T17:01:16.6015441Z }
2026-02-05T17:01:16.6015593Z 
2026-02-05T17:01:16.6017664Z [90mstderr[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mSession Management[2m > [22m[2mshould return false when deleting non-existent session
2026-02-05T17:01:16.6019553Z [22m[39m[2026-02-05T17:01:16.583Z] [WARN] Session not found for deletion {
2026-02-05T17:01:16.6020200Z   "sessionId": "non-existent"
2026-02-05T17:01:16.6020573Z }
2026-02-05T17:01:16.6020722Z 
2026-02-05T17:01:16.6022498Z [90mstderr[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mMessage Management[2m > [22m[2mshould return null when updating non-existent message
2026-02-05T17:01:16.6024228Z [22m[39m[2026-02-05T17:01:16.592Z] [WARN] Message not found for update {
2026-02-05T17:01:16.6024917Z   "sessionId": "1770310876590-6c3432f2c8121951",
2026-02-05T17:01:16.6025463Z   "messageId": "non-existent"
2026-02-05T17:01:16.6025835Z }
2026-02-05T17:01:16.6025984Z 
2026-02-05T17:01:16.6027346Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mSession Management[2m > [22m[2mshould delete a session
2026-02-05T17:01:16.6028809Z [22m[39m[2026-02-05T17:01:16.582Z] [INFO] Created new session {
2026-02-05T17:01:16.6029445Z   "sessionId": "1770310876582-f4b66688f17cb213",
2026-02-05T17:01:16.6029910Z   "name": "Test Session"
2026-02-05T17:01:16.6030241Z }
2026-02-05T17:01:16.6030394Z 
2026-02-05T17:01:16.6031855Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mSession Management[2m > [22m[2mshould delete a session
2026-02-05T17:01:16.6033299Z [22m[39m[2026-02-05T17:01:16.583Z] [INFO] Session deleted {
2026-02-05T17:01:16.6033891Z   "sessionId": "1770310876582-f4b66688f17cb213"
2026-02-05T17:01:16.6034518Z }
2026-02-05T17:01:16.6034669Z 
2026-02-05T17:01:16.6061618Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mSession Management[2m > [22m[2mshould return false when deleting non-existent session
2026-02-05T17:01:16.6063532Z [22m[39m[2026-02-05T17:01:16.583Z] [INFO] Created new session {
2026-02-05T17:01:16.6064197Z   "sessionId": "1770310876583-38b6bfca07cb840b",
2026-02-05T17:01:16.6064681Z   "name": "Test Session"
2026-02-05T17:01:16.6065021Z }
2026-02-05T17:01:16.6065172Z 
2026-02-05T17:01:16.6066578Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mSession Management[2m > [22m[2mshould switch active session
2026-02-05T17:01:16.6068103Z [22m[39m[2026-02-05T17:01:16.584Z] [INFO] Created new session {
2026-02-05T17:01:16.6068741Z   "sessionId": "1770310876584-9f2aa7cc1f439e6c",
2026-02-05T17:01:16.6069224Z   "name": "Test Session"
2026-02-05T17:01:16.6069554Z }
2026-02-05T17:01:16.6069718Z 
2026-02-05T17:01:16.6071110Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mSession Management[2m > [22m[2mshould switch active session
2026-02-05T17:01:16.6072810Z [22m[39m[2026-02-05T17:01:16.584Z] [INFO] Created new session {
2026-02-05T17:01:16.6073445Z   "sessionId": "1770310876584-e82e67a42d5a084d",
2026-02-05T17:01:16.6073913Z   "name": "Second Session"
2026-02-05T17:01:16.6074261Z }
2026-02-05T17:01:16.6074410Z 
2026-02-05T17:01:16.6075763Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mSession Management[2m > [22m[2mshould archive a session
2026-02-05T17:01:16.6077239Z [22m[39m[2026-02-05T17:01:16.585Z] [INFO] Created new session {
2026-02-05T17:01:16.6077867Z   "sessionId": "1770310876585-066a4646cdcd22fc",
2026-02-05T17:01:16.6078320Z   "name": "Test Session"
2026-02-05T17:01:16.6078655Z }
2026-02-05T17:01:16.6078800Z 
2026-02-05T17:01:16.6080148Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mSession Management[2m > [22m[2mshould archive a session
2026-02-05T17:01:16.6082047Z [22m[39m[2026-02-05T17:01:16.585Z] [INFO] Session archived {
2026-02-05T17:01:16.6082713Z   "sessionId": "1770310876585-066a4646cdcd22fc"
2026-02-05T17:01:16.6083157Z }
2026-02-05T17:01:16.6084457Z 
2026-02-05T17:01:16.6085854Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mSession Management[2m > [22m[2mshould unarchive a session
2026-02-05T17:01:16.6087415Z [22m[39m[2026-02-05T17:01:16.586Z] [INFO] Created new session {
2026-02-05T17:01:16.6088071Z   "sessionId": "1770310876586-a52c7a13047045aa",
2026-02-05T17:01:16.6088536Z   "name": "Test Session"
2026-02-05T17:01:16.6088879Z }
2026-02-05T17:01:16.6089026Z 
2026-02-05T17:01:16.6091249Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mSession Management[2m > [22m[2mshould unarchive a session
2026-02-05T17:01:16.6092908Z [22m[39m[2026-02-05T17:01:16.586Z] [INFO] Session archived {
2026-02-05T17:01:16.6093536Z   "sessionId": "1770310876586-a52c7a13047045aa"
2026-02-05T17:01:16.6094010Z }
2026-02-05T17:01:16.6094178Z 
2026-02-05T17:01:16.6095613Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mSession Management[2m > [22m[2mshould unarchive a session
2026-02-05T17:01:16.6097156Z [22m[39m[2026-02-05T17:01:16.586Z] [INFO] Session unarchived {
2026-02-05T17:01:16.6097792Z   "sessionId": "1770310876586-a52c7a13047045aa"
2026-02-05T17:01:16.6098257Z }
2026-02-05T17:01:16.6098415Z 
2026-02-05T17:01:16.6099897Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mMessage Management[2m > [22m[2mshould add a message to session
2026-02-05T17:01:16.6101516Z [22m[39m[2026-02-05T17:01:16.587Z] [INFO] Created new session {
2026-02-05T17:01:16.6102635Z   "sessionId": "1770310876587-e3978202abd3f277",
2026-02-05T17:01:16.6103148Z   "name": "Test Session"
2026-02-05T17:01:16.6103504Z }
2026-02-05T17:01:16.6103668Z 
2026-02-05T17:01:16.6105203Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mMessage Management[2m > [22m[2mshould get all messages from session
2026-02-05T17:01:16.6106842Z [22m[39m[2026-02-05T17:01:16.587Z] [INFO] Created new session {
2026-02-05T17:01:16.6107513Z   "sessionId": "1770310876587-0b0b4c513a9b7450",
2026-02-05T17:01:16.6107989Z   "name": "Test Session"
2026-02-05T17:01:16.6108336Z }
2026-02-05T17:01:16.6108485Z 
2026-02-05T17:01:16.6109842Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mMessage Management[2m > [22m[2mshould update a message
2026-02-05T17:01:16.6111320Z [22m[39m[2026-02-05T17:01:16.589Z] [INFO] Created new session {
2026-02-05T17:01:16.6113382Z   "sessionId": "1770310876589-68092716042bd09e",
2026-02-05T17:01:16.6113867Z   "name": "Test Session"
2026-02-05T17:01:16.6114207Z }
2026-02-05T17:01:16.6114353Z 
2026-02-05T17:01:16.6115992Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mMessage Management[2m > [22m[2mshould return null when updating non-existent message
2026-02-05T17:01:16.6117663Z [22m[39m[2026-02-05T17:01:16.592Z] [INFO] Created new session {
2026-02-05T17:01:16.6118300Z   "sessionId": "1770310876590-6c3432f2c8121951",
2026-02-05T17:01:16.6118760Z   "name": "Test Session"
2026-02-05T17:01:16.6119098Z }
2026-02-05T17:01:16.6119243Z 
2026-02-05T17:01:16.6120598Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mMessage Management[2m > [22m[2mshould delete a message
2026-02-05T17:01:16.6122224Z [22m[39m[2026-02-05T17:01:16.592Z] [INFO] Created new session {
2026-02-05T17:01:16.6122876Z   "sessionId": "1770310876592-81f40a8e908ce2f5",
2026-02-05T17:01:16.6123371Z   "name": "Test Session"
2026-02-05T17:01:16.6123699Z }
2026-02-05T17:01:16.6123850Z 
2026-02-05T17:01:16.6125719Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mMessage Management[2m > [22m[2mshould update session metadata when adding messages
2026-02-05T17:01:16.6127458Z [22m[39m[2026-02-05T17:01:16.593Z] [INFO] Created new session {
2026-02-05T17:01:16.6128147Z   "sessionId": "1770310876593-86cceffd77aba207",
2026-02-05T17:01:16.6128614Z   "name": "Test Session"
2026-02-05T17:01:16.6128967Z }
2026-02-05T17:01:16.6129114Z 
2026-02-05T17:01:16.6130467Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mSearch[2m > [22m[2mshould search across all sessions
2026-02-05T17:01:16.6132063Z [22m[39m[2026-02-05T17:01:16.594Z] [INFO] Created new session {
2026-02-05T17:01:16.6132709Z   "sessionId": "1770310876594-e03d5b65823b7179",
2026-02-05T17:01:16.6133192Z   "name": "JavaScript Help"
2026-02-05T17:01:16.6133567Z }
2026-02-05T17:01:16.6133715Z 
2026-02-05T17:01:16.6135065Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mSearch[2m > [22m[2mshould search across all sessions
2026-02-05T17:01:16.6136518Z [22m[39m[2026-02-05T17:01:16.594Z] [INFO] Created new session {
2026-02-05T17:01:16.6137157Z   "sessionId": "1770310876594-64dfdc765a7b6ab6",
2026-02-05T17:01:16.6137645Z   "name": "Python Tutorial"
2026-02-05T17:01:16.6138002Z }
2026-02-05T17:01:16.6138160Z 
2026-02-05T17:01:16.6139499Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mSearch[2m > [22m[2mshould search by message content
2026-02-05T17:01:16.6140969Z [22m[39m[2026-02-05T17:01:16.594Z] [INFO] Created new session {
2026-02-05T17:01:16.6141616Z   "sessionId": "1770310876594-ac7cdabae46477e2",
2026-02-05T17:01:16.6142321Z   "name": "JavaScript Help"
2026-02-05T17:01:16.6142885Z }
2026-02-05T17:01:16.6143041Z 
2026-02-05T17:01:16.6144377Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mSearch[2m > [22m[2mshould search by message content
2026-02-05T17:01:16.6145878Z [22m[39m[2026-02-05T17:01:16.595Z] [INFO] Created new session {
2026-02-05T17:01:16.6146513Z   "sessionId": "1770310876595-0854c7ab885e93cb",
2026-02-05T17:01:16.6146985Z   "name": "Python Tutorial"
2026-02-05T17:01:16.6147353Z }
2026-02-05T17:01:16.6147498Z 
2026-02-05T17:01:16.6148949Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mSearch[2m > [22m[2mshould return all sessions when query is empty
2026-02-05T17:01:16.6150477Z [22m[39m[2026-02-05T17:01:16.595Z] [INFO] Created new session {
2026-02-05T17:01:16.6151117Z   "sessionId": "1770310876595-783ab137b2b73cd2",
2026-02-05T17:01:16.6151579Z   "name": "JavaScript Help"
2026-02-05T17:01:16.6152076Z }
2026-02-05T17:01:16.6152225Z 
2026-02-05T17:01:16.6153656Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mSearch[2m > [22m[2mshould return all sessions when query is empty
2026-02-05T17:01:16.6155156Z [22m[39m[2026-02-05T17:01:16.596Z] [INFO] Created new session {
2026-02-05T17:01:16.6155780Z   "sessionId": "1770310876596-451107498211f3ea",
2026-02-05T17:01:16.6156242Z   "name": "Python Tutorial"
2026-02-05T17:01:16.6156586Z }
2026-02-05T17:01:16.6156735Z 
2026-02-05T17:01:16.6158176Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mSearch[2m > [22m[2mshould search messages within a specific session
2026-02-05T17:01:16.6159700Z [22m[39m[2026-02-05T17:01:16.596Z] [INFO] Created new session {
2026-02-05T17:01:16.6160320Z   "sessionId": "1770310876596-92c845cfc539d3ef",
2026-02-05T17:01:16.6160789Z   "name": "JavaScript Help"
2026-02-05T17:01:16.6161131Z }
2026-02-05T17:01:16.6161284Z 
2026-02-05T17:01:16.6162939Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mSearch[2m > [22m[2mshould search messages within a specific session
2026-02-05T17:01:16.6164643Z [22m[39m[2026-02-05T17:01:16.596Z] [INFO] Created new session {
2026-02-05T17:01:16.6165275Z   "sessionId": "1770310876596-a0f3396c21d3f75e",
2026-02-05T17:01:16.6165741Z   "name": "Python Tutorial"
2026-02-05T17:01:16.6166094Z }
2026-02-05T17:01:16.6166240Z 
2026-02-05T17:01:16.6167607Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mExport/Import[2m > [22m[2mshould export a session to JSON
2026-02-05T17:01:16.6169090Z [22m[39m[2026-02-05T17:01:16.597Z] [INFO] Created new session {
2026-02-05T17:01:16.6169712Z   "sessionId": "1770310876597-80f958141a28266c",
2026-02-05T17:01:16.6170162Z   "name": "Export Test"
2026-02-05T17:01:16.6170491Z }
2026-02-05T17:01:16.6170633Z 
2026-02-05T17:01:16.6172173Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mExport/Import[2m > [22m[2mshould import a session from JSON
2026-02-05T17:01:16.6173764Z [22m[39m[2026-02-05T17:01:16.598Z] [INFO] Created new session {
2026-02-05T17:01:16.6174429Z   "sessionId": "1770310876598-4156f49ccdc40bd3",
2026-02-05T17:01:16.6174902Z   "name": "Export Test"
2026-02-05T17:01:16.6175243Z }
2026-02-05T17:01:16.6175398Z 
2026-02-05T17:01:16.6176815Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mExport/Import[2m > [22m[2mshould import a session from JSON
2026-02-05T17:01:16.6178315Z [22m[39m[2026-02-05T17:01:16.598Z] [INFO] Session imported {
2026-02-05T17:01:16.6178934Z   "sessionId": "1770310876598-91502565f63321d0",
2026-02-05T17:01:16.6179406Z   "name": "Export Test"
2026-02-05T17:01:16.6179783Z }
2026-02-05T17:01:16.6179955Z 
2026-02-05T17:01:16.6181466Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mExport/Import[2m > [22m[2mshould throw error when importing invalid JSON
2026-02-05T17:01:16.6187948Z [22m[39m[2026-02-05T17:01:16.599Z] [INFO] Created new session {
2026-02-05T17:01:16.6188647Z   "sessionId": "1770310876599-fe86c8069c946bf8",
2026-02-05T17:01:16.6189159Z   "name": "Export Test"
2026-02-05T17:01:16.6189513Z }
2026-02-05T17:01:16.6189675Z 
2026-02-05T17:01:16.6191268Z [90mstderr[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mExport/Import[2m > [22m[2mshould throw error when importing invalid JSON
2026-02-05T17:01:16.6193046Z [22m[39m[2026-02-05T17:01:16.600Z] [ERROR] Failed to import session
2026-02-05T17:01:16.6193898Z Error: Unexpected token 'i', "invalid json" is not valid JSON
2026-02-05T17:01:16.6194812Z Stack: SyntaxError: Unexpected token 'i', "invalid json" is not valid JSON
2026-02-05T17:01:16.6195530Z     at JSON.parse (<anonymous>)
2026-02-05T17:01:16.6196671Z     at SessionManager.importSession (/home/runner/work/AI-Prompt-Refiner/AI-Prompt-Refiner/src/services/SessionManager.ts:630:31)
2026-02-05T17:01:16.6198299Z     at /home/runner/work/AI-Prompt-Refiner/AI-Prompt-Refiner/src/services/__tests__/SessionManager.test.ts:386:35
2026-02-05T17:01:16.6199793Z     at file:///home/runner/work/AI-Prompt-Refiner/AI-Prompt-Refiner/node_modules/@vitest/runner/dist/index.js:145:11
2026-02-05T17:01:16.6201287Z     at file:///home/runner/work/AI-Prompt-Refiner/AI-Prompt-Refiner/node_modules/@vitest/runner/dist/index.js:915:26
2026-02-05T17:01:16.6240847Z     at file:///home/runner/work/AI-Prompt-Refiner/AI-Prompt-Refiner/node_modules/@vitest/runner/dist/index.js:1243:20
2026-02-05T17:01:16.6243195Z     at new Promise (<anonymous>)
2026-02-05T17:01:16.6244354Z     at runWithTimeout (file:///home/runner/work/AI-Prompt-Refiner/AI-Prompt-Refiner/node_modules/@vitest/runner/dist/index.js:1209:10)
2026-02-05T17:01:16.6246008Z     at file:///home/runner/work/AI-Prompt-Refiner/AI-Prompt-Refiner/node_modules/@vitest/runner/dist/index.js:1653:37
2026-02-05T17:01:16.6247711Z     at Traces.$ (file:///home/runner/work/AI-Prompt-Refiner/AI-Prompt-Refiner/node_modules/vitest/dist/chunks/traces.CCmnQaNT.js:142:27)
2026-02-05T17:01:16.6248660Z 
2026-02-05T17:01:16.6250287Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mMigration[2m > [22m[2mshould migrate legacy chat history
2026-02-05T17:01:16.6252483Z [22m[39m[2026-02-05T17:01:16.608Z] [INFO] Migrating legacy chat history {
2026-02-05T17:01:16.6253127Z   "messageCount": 2
2026-02-05T17:01:16.6253456Z }
2026-02-05T17:01:16.6253604Z 
2026-02-05T17:01:16.6254962Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mMigration[2m > [22m[2mshould migrate legacy chat history
2026-02-05T17:01:16.6256597Z [22m[39m[2026-02-05T17:01:16.608Z] [INFO] Migration completed successfully {
2026-02-05T17:01:16.6257321Z   "sessionId": "1770310876608-b0685f0a5c82488a",
2026-02-05T17:01:16.6257800Z   "messageCount": 2
2026-02-05T17:01:16.6258105Z }
2026-02-05T17:01:16.6258259Z 
2026-02-05T17:01:16.6259613Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mSession Stats[2m > [22m[2mshould return correct stats
2026-02-05T17:01:16.6261129Z [22m[39m[2026-02-05T17:01:16.609Z] [INFO] Created new session {
2026-02-05T17:01:16.6261940Z   "sessionId": "1770310876609-f60ac6fffea99daa",
2026-02-05T17:01:16.6262424Z   "name": "Session 1"
2026-02-05T17:01:16.6262765Z }
2026-02-05T17:01:16.6262917Z 
2026-02-05T17:01:16.6264280Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mSession Stats[2m > [22m[2mshould return correct stats
2026-02-05T17:01:16.6265764Z [22m[39m[2026-02-05T17:01:16.609Z] [INFO] Created new session {
2026-02-05T17:01:16.6266402Z   "sessionId": "1770310876609-a6fc50e0bb36aec8",
2026-02-05T17:01:16.6266823Z   "name": "Session 2"
2026-02-05T17:01:16.6267125Z }
2026-02-05T17:01:16.6267467Z 
2026-02-05T17:01:16.6268727Z [90mstdout[2m | src/services/__tests__/SessionManager.test.ts[2m > [22m[2mSessionManager[2m > [22m[2mSession Stats[2m > [22m[2mshould return correct stats
2026-02-05T17:01:16.6270183Z [22m[39m[2026-02-05T17:01:16.610Z] [INFO] Session archived {
2026-02-05T17:01:16.6270812Z   "sessionId": "1770310876609-a6fc50e0bb36aec8"
2026-02-05T17:01:16.6271255Z }
2026-02-05T17:01:16.6271417Z 
2026-02-05T17:01:16.6272487Z  [32m✓[39m src/services/__tests__/SessionManager.test.ts [2m([22m[2m36 tests[22m[2m)[22m[32m 61[2mms[22m[39m
2026-02-05T17:01:16.8615872Z [90mstdout[2m | src/__tests__/PromptRefinerService.test.ts[2m > [22m[2mPromptRefinerService with DI[2m > [22m[2mService Creation[2m > [22m[2mshould create service with injected dependencies
2026-02-05T17:01:16.8618407Z [22m[39m[2026-02-05T17:01:16.858Z] [INFO] Cache cleared
2026-02-05T17:01:16.8619871Z 
2026-02-05T17:01:16.8657698Z [90mstdout[2m | src/__tests__/PromptRefinerService.test.ts[2m > [22m[2mPromptRefinerService with DI[2m > [22m[2mService Creation[2m > [22m[2mshould use singleton pattern for getInstance
2026-02-05T17:01:16.8658726Z [22m[39m[2026-02-05T17:01:16.863Z] [INFO] Cache cleared
2026-02-05T17:01:16.8658952Z 
2026-02-05T17:01:16.8664752Z [90mstdout[2m | src/__tests__/PromptRefinerService.test.ts[2m > [22m[2mPromptRefinerService with DI[2m > [22m[2mService Creation[2m > [22m[2mshould create separate instances with createWithDependencies
2026-02-05T17:01:16.8665772Z [22m[39m[2026-02-05T17:01:16.865Z] [INFO] Cache cleared
2026-02-05T17:01:16.8666003Z 
2026-02-05T17:01:16.8701356Z [90mstdout[2m | src/__tests__/PromptRefinerService.test.ts[2m > [22m[2mPromptRefinerService with DI[2m > [22m[2mrefine[2m > [22m[2mshould call provider refine with correct parameters
2026-02-05T17:01:16.8704030Z [22m[39m[2026-02-05T17:01:16.868Z] [INFO] Cache cleared
2026-02-05T17:01:16.8704759Z 
2026-02-05T17:01:16.8716333Z [90mstdout[2m | src/__tests__/PromptRefinerService.test.ts[2m > [22m[2mPromptRefinerService with DI[2m > [22m[2mrefine[2m > [22m[2mshould call provider refine with correct parameters
2026-02-05T17:01:16.8718702Z [22m[39m[2026-02-05T17:01:16.870Z] [INFO] Calling provider for refinement {
2026-02-05T17:01:16.8719396Z   "iteration": 1,
2026-02-05T17:01:16.8719767Z   "templateId": "default",
2026-02-05T17:01:16.8720177Z   "provider": "mock",
2026-02-05T17:01:16.8720558Z   "role": "programmer"
2026-02-05T17:01:16.8720941Z }
2026-02-05T17:01:16.8721111Z 
2026-02-05T17:01:16.8732419Z [90mstderr[2m | src/__tests__/PromptRefinerService.test.ts[2m > [22m[2mPromptRefinerService with DI[2m > [22m[2mrefine[2m > [22m[2mshould call provider refine with correct parameters
2026-02-05T17:01:16.8735437Z [90mstdout[2m | src/__tests__/PromptRefinerService.test.ts[2m > [22m[2mPromptRefinerService with DI[2m > [22m[2mrefine[2m > [22m[2mshould call provider refine with correct parameters
2026-02-05T17:01:16.8738399Z [22m[39m[2026-02-05T17:01:16.872Z] [WARN] Refined prompt validation failed {
2026-02-05T17:01:16.8740892Z   "score": 0,
2026-02-05T17:01:16.8741405Z   "issues": 4
2026-02-05T17:01:16.8741888Z }
2026-02-05T17:01:16.8742068Z 
2026-02-05T17:01:16.8743307Z [22m[39m[2026-02-05T17:01:16.872Z] [INFO] Refinement completed successfully {
2026-02-05T17:01:16.8746718Z   "score": 0,
2026-02-05T17:01:16.8747110Z   "valid": false
2026-02-05T17:01:16.8747674Z }
2026-02-05T17:01:16.8747857Z 
2026-02-05T17:01:16.8767388Z [90mstdout[2m | src/__tests__/PromptRefinerService.test.ts[2m > [22m[2mPromptRefinerService with DI[2m > [22m[2mrefine[2m > [22m[2mshould use strict template when strict mode is enabled
2026-02-05T17:01:16.8769021Z [22m[39m[2026-02-05T17:01:16.875Z] [INFO] Cache cleared
2026-02-05T17:01:16.8769388Z 
2026-02-05T17:01:16.8775231Z [90mstdout[2m | src/__tests__/PromptRefinerService.test.ts[2m > [22m[2mPromptRefinerService with DI[2m > [22m[2mrefine[2m > [22m[2mshould use strict template when strict mode is enabled
2026-02-05T17:01:16.8777581Z [22m[39m[2026-02-05T17:01:16.877Z] [INFO] Calling provider for refinement {
2026-02-05T17:01:16.8778445Z   "iteration": 1,
2026-02-05T17:01:16.8779674Z   "templateId": "default",
2026-02-05T17:01:16.8784641Z [90mstderr[2m | src/__tests__/PromptRefinerService.test.ts[2m > [22m[2mPromptRefinerService with DI[2m > [22m[2mrefine[2m > [22m[2mshould use strict template when strict mode is enabled
2026-02-05T17:01:16.8786685Z [22m[39m[2026-02-05T17:01:16.877Z] [WARN] Refined prompt validation failed {
2026-02-05T17:01:16.8787399Z   "score": 0,
2026-02-05T17:01:16.8787726Z   "issues": 4
2026-02-05T17:01:16.8788049Z }
2026-02-05T17:01:16.8788206Z 
2026-02-05T17:01:16.8788389Z   "provider": "mock",
2026-02-05T17:01:16.8788769Z   "role": "programmer"
2026-02-05T17:01:16.8789134Z }
2026-02-05T17:01:16.8789301Z 
2026-02-05T17:01:16.8791057Z [90mstdout[2m | src/__tests__/PromptRefinerService.test.ts[2m > [22m[2mPromptRefinerService with DI[2m > [22m[2mrefine[2m > [22m[2mshould use strict template when strict mode is enabled
2026-02-05T17:01:16.8793263Z [22m[39m[2026-02-05T17:01:16.877Z] [INFO] Refinement completed successfully {
2026-02-05T17:01:16.8793968Z   "score": 0,
2026-02-05T17:01:16.8794320Z   "valid": false
2026-02-05T17:01:16.8794660Z }
2026-02-05T17:01:16.8794821Z 
2026-02-05T17:01:16.8865416Z [90mstdout[2m | src/__tests__/PromptRefinerService.test.ts[2m > [22m[2mPromptRefinerService with DI[2m > [22m[2mrefine[2m > [22m[2mshould return refined result with metadata
2026-02-05T17:01:16.8867003Z [22m[39m[2026-02-05T17:01:16.884Z] [INFO] Cache cleared
2026-02-05T17:01:16.8867379Z 
2026-02-05T17:01:16.8869334Z [90mstderr[2m | src/__tests__/PromptRefinerService.test.ts[2m > [22m[2mPromptRefinerService with DI[2m > [22m[2mrefine[2m > [22m[2mshould return refined result with metadata
2026-02-05T17:01:16.8871287Z [22m[39m[2026-02-05T17:01:16.885Z] [WARN] Refined prompt validation failed {
2026-02-05T17:01:16.8872225Z   "score": 0,
2026-02-05T17:01:16.8872573Z   "issues": 4
2026-02-05T17:01:16.8872898Z }
2026-02-05T17:01:16.8873065Z 
2026-02-05T17:01:16.8876540Z [90mstdout[2m | src/__tests__/PromptRefinerService.test.ts[2m > [22m[2mPromptRefinerService with DI[2m > [22m[2mrefine[2m > [22m[2mshould return refined result with metadata
2026-02-05T17:01:16.8879727Z [22m[39m[2026-02-05T17:01:16.884Z] [INFO] Calling provider for refinement {
2026-02-05T17:01:16.8881943Z   "iteration": 1,
2026-02-05T17:01:16.8883642Z   "templateId": "default",
2026-02-05T17:01:16.8885523Z [90mstderr[2m | src/__tests__/PromptRefinerService.test.ts[2m > [22m[2mPromptRefinerService with DI[2m > [22m[2mrefine[2m > [22m[2mshould propagate provider errors
2026-02-05T17:01:16.8887250Z [22m[39m[2026-02-05T17:01:16.887Z] [ERROR] Refinement failed
2026-02-05T17:01:16.8887871Z Error: Provider error
2026-02-05T17:01:16.8888303Z Stack: Error: Provider error
2026-02-05T17:01:16.8889362Z     at /home/runner/work/AI-Prompt-Refiner/AI-Prompt-Refiner/src/__tests__/PromptRefinerService.test.ts:153:54
2026-02-05T17:01:16.8890990Z     at file:///home/runner/work/AI-Prompt-Refiner/AI-Prompt-Refiner/node_modules/@vitest/runner/dist/index.js:145:11
2026-02-05T17:01:16.8892831Z     at file:///home/runner/work/AI-Prompt-Refiner/AI-Prompt-Refiner/node_modules/@vitest/runner/dist/index.js:915:26
2026-02-05T17:01:16.8894457Z     at file:///home/runner/work/AI-Prompt-Refiner/AI-Prompt-Refiner/node_modules/@vitest/runner/dist/index.js:1243:20
2026-02-05T17:01:16.8895540Z     at new Promise (<anonymous>)
2026-02-05T17:01:16.8896686Z     at runWithTimeout (file:///home/runner/work/AI-Prompt-Refiner/AI-Prompt-Refiner/node_modules/@vitest/runner/dist/index.js:1209:10)
2026-02-05T17:01:16.8898367Z     at file:///home/runner/work/AI-Prompt-Refiner/AI-Prompt-Refiner/node_modules/@vitest/runner/dist/index.js:1653:37
2026-02-05T17:01:16.8900123Z     at Traces.$ (file:///home/runner/work/AI-Prompt-Refiner/AI-Prompt-Refiner/node_modules/vitest/dist/chunks/traces.CCmnQaNT.js:142:27)
2026-02-05T17:01:16.8902257Z     at trace (file:///home/runner/work/AI-Prompt-Refiner/AI-Prompt-Refiner/node_modules/vitest/dist/chunks/test.B8ej_ZHS.js:239:21)
2026-02-05T17:01:16.8903893Z     at runTest (file:///home/runner/work/AI-Prompt-Refiner/AI-Prompt-Refiner/node_modules/@vitest/runner/dist/index.js:1653:12)
2026-02-05T17:01:16.8904740Z 
2026-02-05T17:01:16.8904912Z   "provider": "mock",
2026-02-05T17:01:16.8905277Z   "role": "programmer"
2026-02-05T17:01:16.8905618Z }
2026-02-05T17:01:16.8905776Z 
2026-02-05T17:01:16.8907311Z [90mstdout[2m | src/__tests__/PromptRefinerService.test.ts[2m > [22m[2mPromptRefinerService with DI[2m > [22m[2mrefine[2m > [22m[2mshould return refined result with metadata
2026-02-05T17:01:16.8909047Z [22m[39m[2026-02-05T17:01:16.885Z] [INFO] Refinement completed successfully {
2026-02-05T17:01:16.8909676Z   "score": 0,
2026-02-05T17:01:16.8909987Z   "valid": false
2026-02-05T17:01:16.8910261Z }
2026-02-05T17:01:16.8910396Z 
2026-02-05T17:01:16.8922146Z [90mstdout[2m | src/__tests__/PromptRefinerService.test.ts[2m > [22m[2mPromptRefinerService with DI[2m > [22m[2mrefine[2m > [22m[2mshould propagate provider errors
2026-02-05T17:01:16.8923777Z [22m[39m[2026-02-05T17:01:16.885Z] [INFO] Cache cleared
2026-02-05T17:01:16.8924158Z 
2026-02-05T17:01:16.8925617Z [90mstdout[2m | src/__tests__/PromptRefinerService.test.ts[2m > [22m[2mPromptRefinerService with DI[2m > [22m[2mrefine[2m > [22m[2mshould propagate provider errors
2026-02-05T17:01:16.8927206Z [22m[39m[2026-02-05T17:01:16.887Z] [INFO] Calling provider for refinement {
2026-02-05T17:01:16.8927826Z   "iteration": 1,
2026-02-05T17:01:16.8928159Z   "templateId": "default",
2026-02-05T17:01:16.8928525Z   "provider": "mock",
2026-02-05T17:01:16.8928877Z   "role": "programmer"
2026-02-05T17:01:16.8929208Z }
2026-02-05T17:01:16.8929358Z 
2026-02-05T17:01:16.8939340Z [90mstdout[2m | src/__tests__/PromptRefinerService.test.ts[2m > [22m[2mPromptRefinerService with DI[2m > [22m[2mrefine[2m > [22m[2mshould handle template loading errors
2026-02-05T17:01:16.8941097Z [22m[39m[2026-02-05T17:01:16.889Z] [INFO] Cache cleared
2026-02-05T17:01:16.8941593Z 
2026-02-05T17:01:16.8953530Z [90mstderr[2m | src/__tests__/PromptRefinerService.test.ts[2m > [22m[2mPromptRefinerService with DI[2m > [22m[2mrefine[2m > [22m[2mshould handle template loading errors
2026-02-05T17:01:16.8955405Z [22m[39m[2026-02-05T17:01:16.893Z] [ERROR] Failed to load prompt template
2026-02-05T17:01:16.8956119Z Error: File not found
2026-02-05T17:01:16.8956557Z Stack: Error: File not found
2026-02-05T17:01:16.8957815Z     at Module.<anonymous> (/home/runner/work/AI-Prompt-Refiner/AI-Prompt-Refiner/src/__tests__/PromptRefinerService.test.ts:160:15)
2026-02-05T17:01:16.8959718Z     at Module.readFileSync (file:///home/runner/work/AI-Prompt-Refiner/AI-Prompt-Refiner/node_modules/@vitest/spy/dist/index.js:285:34)
2026-02-05T17:01:16.8962079Z     at PromptRefinerService.loadTemplate (/home/runner/work/AI-Prompt-Refiner/AI-Prompt-Refiner/src/services/PromptRefinerService.ts:311:27)
2026-02-05T17:01:16.8964141Z     at PromptRefinerService.refine (/home/runner/work/AI-Prompt-Refiner/AI-Prompt-Refiner/src/services/PromptRefinerService.ts:138:37)
2026-02-05T17:01:16.8965749Z     at processTicksAndRejections (node:internal/process/task_queues:95:5)
2026-02-05T17:01:16.8966404Z 
2026-02-05T17:01:16.8968522Z [90mstdout[2m | src/__tests__/PromptRefinerService.test.ts[2m > [22m[2mPromptRefinerService with DI[2m > [22m[2mrefine[2m > [22m[2mshould fallback to src path if dist path fails
2026-02-05T17:01:16.8970325Z [22m[39m[2026-02-05T17:01:16.895Z] [INFO] Cache cleared
2026-02-05T17:01:16.8970736Z 
2026-02-05T17:01:16.8977322Z [90mstdout[2m | src/__tests__/PromptRefinerService.test.ts[2m > [22m[2mPromptRefinerService with DI[2m > [22m[2mrefine[2m > [22m[2mshould fallback to src path if dist path fails
2026-02-05T17:01:16.8980068Z [90mstderr[2m | src/__tests__/PromptRefinerService.test.ts[2m > [22m[2mPromptRefinerService with DI[2m > [22m[2mrefine[2m > [22m[2mshould fallback to src path if dist path fails
2026-02-05T17:01:16.8982276Z [22m[39m[2026-02-05T17:01:16.896Z] [WARN] Refined prompt validation failed {
2026-02-05T17:01:16.8982924Z   "score": 0,
2026-02-05T17:01:16.8983219Z   "issues": 4
2026-02-05T17:01:16.8983501Z }
2026-02-05T17:01:16.8983648Z 
2026-02-05T17:01:16.8984248Z [22m[39m[2026-02-05T17:01:16.896Z] [INFO] Calling provider for refinement {
2026-02-05T17:01:16.8984857Z   "iteration": 1,
2026-02-05T17:01:16.8985190Z   "templateId": "default",
2026-02-05T17:01:16.8985560Z   "provider": "mock",
2026-02-05T17:01:16.8985893Z   "role": "programmer"
2026-02-05T17:01:16.8986216Z }
2026-02-05T17:01:16.8986361Z 
2026-02-05T17:01:16.8987912Z [90mstdout[2m | src/__tests__/PromptRefinerService.test.ts[2m > [22m[2mPromptRefinerService with DI[2m > [22m[2mrefine[2m > [22m[2mshould fallback to src path if dist path fails
2026-02-05T17:01:16.8989633Z [22m[39m[2026-02-05T17:01:16.896Z] [INFO] Refinement completed successfully {
2026-02-05T17:01:16.8990257Z   "score": 0,
2026-02-05T17:01:16.8990550Z   "valid": false
2026-02-05T17:01:16.8990844Z }
2026-02-05T17:01:16.8990990Z 
2026-02-05T17:01:16.8994652Z [90mstdout[2m | src/__tests__/PromptRefinerService.test.ts[2m > [22m[2mPromptRefinerService with DI[2m > [22m[2mError Handling[2m > [22m[2mshould throw error if service not initialized
2026-02-05T17:01:16.8996747Z [22m[39m[2026-02-05T17:01:16.898Z] [INFO] Cache cleared
2026-02-05T17:01:16.8997336Z 
2026-02-05T17:01:16.9002257Z [90mstdout[2m | src/__tests__/PromptRefinerService.test.ts[2m > [22m[2mPromptRefinerService with DI[2m > [22m[2mError Handling[2m > [22m[2mshould handle provider manager errors gracefully
2026-02-05T17:01:16.9004947Z [22m[39m[2026-02-05T17:01:16.899Z] [INFO] Cache cleared
2026-02-05T17:01:16.9007837Z 
2026-02-05T17:01:16.9009497Z [90mstdout[2m | src/__tests__/PromptRefinerService.test.ts[2m > [22m[2mPromptRefinerService with DI[2m > [22m[2mError Handling[2m > [22m[2mshould handle provider manager errors gracefully
2026-02-05T17:01:16.9013731Z [22m[39m[2026-02-05T17:01:16.900Z] [INFO] Calling provider for refinement {
2026-02-05T17:01:16.9014572Z   "iteration": 1,
2026-02-05T17:01:16.9014932Z   "templateId": "default",
2026-02-05T17:01:16.9015303Z   "provider": "mock",
2026-02-05T17:01:16.9015644Z   "role": "programmer"
2026-02-05T17:01:16.9015969Z }
2026-02-05T17:01:16.9016117Z 
2026-02-05T17:01:16.9017663Z [90mstdout[2m | src/__tests__/PromptRefinerService.test.ts[2m > [22m[2mPromptRefinerService with DI[2m > [22m[2mCaching[2m > [22m[2mshould cache results for identical prompts
2026-02-05T17:01:16.9019186Z [22m[39m[2026-02-05T17:01:16.900Z] [INFO] Cache cleared
2026-02-05T17:01:16.9019560Z 
2026-02-05T17:01:16.9021082Z [90mstderr[2m | src/__tests__/PromptRefinerService.test.ts[2m > [22m[2mPromptRefinerService with DI[2m > [22m[2mCaching[2m > [22m[2mshould cache results for identical prompts
2026-02-05T17:01:16.9023856Z [90mstdout[2m | src/__tests__/PromptRefinerService.test.ts[2m > [22m[2mPromptRefinerService with DI[2m > [22m[2mCaching[2m > [22m[2mshould cache results for identical prompts
2026-02-05T17:01:16.9025553Z [22m[39m[2026-02-05T17:01:16.901Z] [WARN] Refined prompt validation failed {
2026-02-05T17:01:16.9026153Z   "score": 0,
2026-02-05T17:01:16.9026450Z   "issues": 4
2026-02-05T17:01:16.9026722Z }
2026-02-05T17:01:16.9026875Z 
2026-02-05T17:01:16.9027451Z [22m[39m[2026-02-05T17:01:16.901Z] [INFO] Calling provider for refinement {
2026-02-05T17:01:16.9028056Z   "iteration": 1,
2026-02-05T17:01:16.9028379Z   "templateId": "default",
2026-02-05T17:01:16.9028765Z   "provider": "mock",
2026-02-05T17:01:16.9029125Z   "role": "programmer"
2026-02-05T17:01:16.9029443Z }
2026-02-05T17:01:16.9029588Z 
2026-02-05T17:01:16.9031101Z [90mstdout[2m | src/__tests__/PromptRefinerService.test.ts[2m > [22m[2mPromptRefinerService with DI[2m > [22m[2mCaching[2m > [22m[2mshould cache results for identical prompts
2026-02-05T17:01:16.9033214Z [22m[39m[2026-02-05T17:01:16.901Z] [INFO] Refinement completed successfully {
2026-02-05T17:01:16.9033836Z   "score": 0,
2026-02-05T17:01:16.9034135Z   "valid": false
2026-02-05T17:01:16.9034433Z }
2026-02-05T17:01:16.9034584Z 
2026-02-05T17:01:16.9036096Z [90mstdout[2m | src/__tests__/PromptRefinerService.test.ts[2m > [22m[2mPromptRefinerService with DI[2m > [22m[2mCaching[2m > [22m[2mshould cache results for identical prompts
2026-02-05T17:01:16.9037812Z [22m[39m[2026-02-05T17:01:16.901Z] [INFO] Cache hit - returning cached refinement
2026-02-05T17:01:16.9038323Z 
2026-02-05T17:01:16.9054854Z  [31m❯[39m src/__tests__/PromptRefinerService.test.ts [2m([22m[2m12 tests[22m[2m | [22m[31m2 failed[39m[2m)[22m[32m 46[2mms[22m[39m
2026-02-05T17:01:16.9056330Z        [32m✓[39m should create service with injected dependencies[32m 5[2mms[22m[39m
2026-02-05T17:01:16.9057467Z        [32m✓[39m should use singleton pattern for getInstance[32m 2[2mms[22m[39m
2026-02-05T17:01:16.9058704Z        [32m✓[39m should create separate instances with createWithDependencies[32m 3[2mms[22m[39m
2026-02-05T17:01:16.9059958Z        [32m✓[39m should call provider refine with correct parameters[32m 8[2mms[22m[39m
2026-02-05T17:01:16.9061319Z [31m       [31m×[31m should use strict template when strict mode is enabled[39m[32m 9[2mms[22m[39m
2026-02-05T17:01:16.9062651Z        [32m✓[39m should return refined result with metadata[32m 1[2mms[22m[39m
2026-02-05T17:01:16.9063614Z        [32m✓[39m should propagate provider errors[32m 4[2mms[22m[39m
2026-02-05T17:01:16.9064563Z        [32m✓[39m should handle template loading errors[32m 6[2mms[22m[39m
2026-02-05T17:01:16.9065760Z [31m       [31m×[31m should fallback to src path if dist path fails[39m[32m 4[2mms[22m[39m
2026-02-05T17:01:16.9066883Z        [32m✓[39m should throw error if service not initialized[32m 1[2mms[22m[39m
2026-02-05T17:01:16.9067988Z        [32m✓[39m should handle provider manager errors gracefully[32m 1[2mms[22m[39m
2026-02-05T17:01:16.9094093Z        [32m✓[39m should cache results for identical prompts[32m 1[2mms[22m[39m
2026-02-05T17:01:16.9096002Z 
2026-02-05T17:01:16.9096944Z [31m⎯⎯⎯⎯⎯⎯⎯[39m[1m[41m Failed Tests 2 [49m[22m[31m⎯⎯⎯⎯⎯⎯⎯[39m
2026-02-05T17:01:16.9097560Z 
2026-02-05T17:01:16.9099247Z [41m[1m FAIL [22m[49m src/__tests__/PromptRefinerService.test.ts[2m > [22mPromptRefinerService with DI[2m > [22mrefine[2m > [22mshould use strict template when strict mode is enabled
2026-02-05T17:01:16.9101625Z [31m[1mAssertionError[22m: expected "vi.fn()" to be called with arguments: [ StringContaining "strict", 'utf-8' ][90m
2026-02-05T17:01:16.9103328Z 
2026-02-05T17:01:16.9103478Z Received: 
2026-02-05T17:01:16.9103666Z 
2026-02-05T17:01:16.9103898Z [1m  1st vi.fn() call:
2026-02-05T17:01:16.9104122Z 
2026-02-05T17:01:16.9104307Z [22m[2m  [[22m
2026-02-05T17:01:16.9104818Z [32m-   StringContaining "strict",[90m
2026-02-05T17:01:16.9105589Z [31m+   "/test/dist/templates/roles/programmer.md",[90m
2026-02-05T17:01:16.9106166Z [2m    "utf-8",[22m
2026-02-05T17:01:16.9106535Z [2m  ][22m
2026-02-05T17:01:16.9106855Z [31m[90m
2026-02-05T17:01:16.9107028Z 
2026-02-05T17:01:16.9107254Z Number of calls: [1m1[22m
2026-02-05T17:01:16.9107644Z [31m[39m
2026-02-05T17:01:16.9108423Z [36m [2m❯[22m src/__tests__/PromptRefinerService.test.ts:[2m136:31[22m[39m
2026-02-05T17:01:16.9151021Z     [90m134| [39m
2026-02-05T17:01:16.9152373Z     [90m135| [39m      [90m// Should try to read strict template first[39m
2026-02-05T17:01:16.9153627Z     [90m136| [39m      [34mexpect[39m(fs[33m.[39mreadFileSync)[33m.[39m[34mtoHaveBeenCalledWith[39m(
2026-02-05T17:01:16.9154683Z     [90m   | [39m                              [31m^[39m
2026-02-05T17:01:16.9155664Z     [90m137| [39m        expect[33m.[39m[34mstringContaining[39m([32m'strict'[39m)[33m,[39m
2026-02-05T17:01:16.9156523Z     [90m138| [39m        [32m'utf-8'[39m
2026-02-05T17:01:16.9157072Z 
2026-02-05T17:01:16.9157498Z [31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[1/2]⎯[22m[39m
2026-02-05T17:01:16.9157755Z 
2026-02-05T17:01:16.9159250Z [41m[1m FAIL [22m[49m src/__tests__/PromptRefinerService.test.ts[2m > [22mPromptRefinerService with DI[2m > [22mrefine[2m > [22mshould fallback to src path if dist path fails
2026-02-05T17:01:16.9160473Z [31m[1mAssertionError[22m: expected 2nd "vi.fn()" call to have been called with [ StringContaining "src", 'utf-8' ][39m
2026-02-05T17:01:16.9160912Z 
2026-02-05T17:01:16.9161178Z [32m- Expected[39m
2026-02-05T17:01:16.9161592Z [31m+ Received[39m
2026-02-05T17:01:16.9161944Z 
2026-02-05T17:01:16.9162124Z [2m  [[22m
2026-02-05T17:01:16.9162590Z [32m-   StringContaining "src",[39m
2026-02-05T17:01:16.9163355Z [31m+   "/test/dist/templates/prompt_template_strict.md",[39m
2026-02-05T17:01:16.9163808Z [2m    "utf-8",[22m
2026-02-05T17:01:16.9164147Z [2m  ][22m
2026-02-05T17:01:16.9164356Z 
2026-02-05T17:01:16.9164983Z [36m [2m❯[22m src/__tests__/PromptRefinerService.test.ts:[2m183:31[22m[39m
2026-02-05T17:01:16.9165542Z     [90m181| [39m        [32m'utf-8'[39m
2026-02-05T17:01:16.9165861Z     [90m182| [39m      )[33m;[39m
2026-02-05T17:01:16.9166444Z     [90m183| [39m      [34mexpect[39m(fs[33m.[39mreadFileSync)[33m.[39m[34mtoHaveBeenNthCalledWith[39m(
2026-02-05T17:01:16.9167029Z     [90m   | [39m                              [31m^[39m
2026-02-05T17:01:16.9167397Z     [90m184| [39m        [34m2[39m[33m,[39m
2026-02-05T17:01:16.9167920Z     [90m185| [39m        expect[33m.[39m[34mstringContaining[39m([32m'src'[39m)[33m,[39m
2026-02-05T17:01:16.9168235Z 
2026-02-05T17:01:16.9168463Z [31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[2/2]⎯[22m[39m
2026-02-05T17:01:16.9168649Z 
2026-02-05T17:01:16.9168675Z 
2026-02-05T17:01:16.9169106Z [2m Test Files [22m [1m[31m1 failed[39m[22m[2m | [22m[1m[32m2 passed[39m[22m[90m (3)[39m
2026-02-05T17:01:16.9169847Z [2m      Tests [22m [1m[31m2 failed[39m[22m[2m | [22m[1m[32m61 passed[39m[22m[90m (63)[39m
2026-02-05T17:01:16.9170533Z [2m   Start at [22m 17:01:16
2026-02-05T17:01:16.9171363Z [2m   Duration [22m 773ms[2m (transform 667ms, setup 153ms, import 817ms, tests 129ms, environment 1ms)[22m
2026-02-05T17:01:16.9172020Z 
2026-02-05T17:01:16.9179013Z 
2026-02-05T17:01:16.9201031Z ##[error]AssertionError: expected "vi.fn()" to be called with arguments: [ StringContaining "strict", 'utf-8' ]

Received: 

  1st vi.fn() call:

  [
-   StringContaining "strict",
+   "/test/dist/templates/roles/programmer.md",
    "utf-8",
  ]


Number of calls: 1

 ❯ src/__tests__/PromptRefinerService.test.ts:136:31


2026-02-05T17:01:16.9208879Z 
2026-02-05T17:01:16.9211491Z ##[error]AssertionError: expected 2nd "vi.fn()" call to have been called with [ StringContaining "src", 'utf-8' ]

- Expected
+ Received

  [
-   StringContaining "src",
+   "/test/dist/templates/prompt_template_strict.md",
    "utf-8",
  ]

 ❯ src/__tests__/PromptRefinerService.test.ts:183:31


2026-02-05T17:01:16.9433898Z ##[error]Process completed with exit code 1.
2026-02-05T17:01:16.9543414Z Post job cleanup.
2026-02-05T17:01:17.0505205Z [command]/usr/bin/git version
2026-02-05T17:01:17.0541346Z git version 2.52.0
2026-02-05T17:01:17.0586628Z Temporarily overriding HOME='/home/runner/work/_temp/271af03d-3ebe-40c8-befe-30e1cd475fb9' before making global git config changes
2026-02-05T17:01:17.0588234Z Adding repository directory to the temporary git global config as a safe directory
2026-02-05T17:01:17.0593822Z [command]/usr/bin/git config --global --add safe.directory /home/runner/work/AI-Prompt-Refiner/AI-Prompt-Refiner
2026-02-05T17:01:17.0634906Z [command]/usr/bin/git config --local --name-only --get-regexp core\.sshCommand
2026-02-05T17:01:17.0668737Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :"
2026-02-05T17:01:17.0912732Z [command]/usr/bin/git config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
2026-02-05T17:01:17.0936667Z http.https://github.com/.extraheader
2026-02-05T17:01:17.0953741Z [command]/usr/bin/git config --local --unset-all http.https://github.com/.extraheader
2026-02-05T17:01:17.0989476Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :"
2026-02-05T17:01:17.1236169Z [command]/usr/bin/git config --local --name-only --get-regexp ^includeIf\.gitdir:
2026-02-05T17:01:17.1272367Z [command]/usr/bin/git submodule foreach --recursive git config --local --show-origin --name-only --get-regexp remote.origin.url
2026-02-05T17:01:17.1643851Z Cleaning up orphan processes
